# 1.?οο£¬?οο£¬?οο

**?οοφ¦γΐμι?οοίνξ¤μι??ΛίσΆίΎξάμισ­???ϊΌ?οο**



**?οοξάυσ?γΐ?ΦυΛ½ξΈίΎω»Ωώο·?ξάαΌΩΔ£¬π«ΝΤΝ§?ξά??ΰυ£¬?ΤΝχςμι??οορώφΚΞμι?ήΐξάΜΐωθ£¬ήΕΣπ?οο???ΰχ?Κ¦φ**



**?οοϋϊ?οοξά?Ν§£Ί**

**(1)μι??οορώφ?ιΝμι??οο£¬μ»μι??οοΚ¦μ¤κσύ??οο£¬Σ£ςΈα΄κσμι??οο΅£**

**(2)?κΉέΒΫΥ??οο£¬Τμι?οοξάα¶κσ?οοΝμϊ½??οοξάα¶κσ?κΉ΅£**

**(3)CPUέΒ??οο£¬??οαξ¤CPUίΎ?ϊΌξάγΐ?οο΅£**



**?ϊΌ£ΊΤ??ϊΌ£¬ρώκσΞύ?ύ?cpuξ¦φ???ϊΌ΅£**

**??£Ίγΐ??ϊΌ£¬?ΚΧΡΓ?γΐΤ??ϊΌ£¬??cpu+ύΤ³Πό?΅£**





# 2.pythonξάύ?οο£Ί

`λ¦ιΝGIL£¬?φΘΤμι?ΚΎΤμι?οοριρώφκσμι??οο?ϊΌξ¤μι?cpuίΎ£¬μ»άτφκσύ??οοΤ?ξ¤μι?cpuίΎ?ϊΌ΅£`

??ύ?οοξά??βΝι©ήΕιΔthreadingΩΌ?΅£

1.Thread?ςΑοΘ?Λο   t1``=``threading.Thread(target``=``tingge)  

2.Thread??γ―γ?Λο, ??γ―?βΝι©ρμ?runΫ°Ϋφ   t1.start()??

## Thread?ξά?ΦΗΫ°Ϋφ

### join()

ξ¤ν­?οοθΗΰχ?ϊΌρύξρ£¬??ν­?οοξάέ«?οο?μιςΑω¬πζίέ΅£ 



##  GILΚ¥ξ¤cpythonϊ°?Πορι£¬ Πμφβξάpythonϊ°?Ποάτ?κσGIL

υσ?ξάκ«λ¦£Ίpython??ΟυήΕιΔμι?ξοΟΡϊ°?Πο?£¨Global Interpreter Lock£©?ϋ»τ®?οο?Python

??ΟυξάήΕιΔ΅£?Φυς¨ς¥ύ?οοΟυπ¤£¬μι?Πράβξάι©Ο΄φ¦γΐβΝι©??άτΤ?οο?Νμϊ½?κΉ??ξάϋ»τ®£¬α¶μ¤μΪμύΦυGIL΅£

GIL£Ίξ¤μι??οο?κσΦυϊ°?Ποξά???ρύύ¨£¬Πμφβξάα¶κσ?οοΤ΄ω±?ΤυΣβ??Ϋ―ϊ°?Ποξά???£¬?ήΕ?ήΑ?οοξάω»μι?ς¦Φµ?άτ?ϋ»ίΣη―?΅£

GILΜΐοΓ£Ίύ?ΧβΠοχάϋω???ΧβΠο£»?οΓ£Ίω­ΨσΣήΥαξάΚ¥?ϊ°?πΓνΒ

GILξάη―?£ΊΩι???ύα΄??οο£¬?κσύα΄?cpu, Pythonξ¤?ϊΌμι??οοξά?ύ¦?ξ¤Τμι?ΚΎρώλΓ?μι??οο?ϊΌ΅£α¶μ¤£¬pythonγΐΩιΫφΧΧιΔύϊ·CPU??ύ?οοξά΅£??£¬python?ιΝ?ί©ΪΛσΆϊώξάμς??ύ?οοξάόωαγδ¤ςΈάτεύΝϊϊΌ(?κσΣήΥαο·?)£¬Σ£γΐ£¬?ιΝIOΪΛσΆϊώξάμς?όωαγ?γΐκσ?ξΚπ«γ®ξά΅£

**?ιΝIOΪΛσΆϊώμς?£¬pythonξάύ?οοφ??ΰύ??΅£**

**?ιΝ?ί©ΪΛσΆϊώμς?£¬pythonξάύ?οο??κσιΔ΅£**



# 3.ύ?οο

Ψί??οοκσν»Πωξά?Ψ΅ξάGIL£¬μΧσ®ε¥άτ?υσ??οορύ?ξάGIL??΅£

ιΔmultiprocessing?£¬?θΗοΪξά?π¤Φυμιχίthreadα¶π«ΝκξάοΘΟΆ£¬Ϋ°ψµ?μΉ

## ΤάΖ? (Lock)

python ύ?οοξ¤??Νμϊ½?κΉ?£¬ε΄??οοΪ±Πΰ?θΗΰχ£¬?υσ????Λμ£¬?φΘ?οοάτδΜξο΅£

ϊ°?Ϋ°Ϋφφ¦γΐξΆ?Λομιχκ?£¬?χΧίΘω¬ιΔ???`?Νμϊ½?κΉξάΤάΖ??`΅£

**?Ψίμι?Νμϊ½?κΉ?Λομι?Lock?ίΪ£¬??βΝι©????κΉ?£¬?ιΔacquireΫ°Ϋφ??φΆ??ίΪ£¨εύΝύΠμ??οομ«??ΤπΦυ??£¬??ξρ?οοβΝΤυΣβΠμω¬?Ϋ―£©£¬Σβ?κΉ??θΗύ¨£¬ξΆ?ιΔreleaseΫ°Ϋφ?Ϋ―?

**Σ£ίΎ?ύ¨ξάοοίν?κσΚ¦φ?υσ?ήέ?ξάοΧ?΅£**



## ήέ?????

α¶?ήέ?£Ί γΐς¦??ϋδ??μ¤ίΎξά?οοϋδ?οοξ¤?ϊΌ?οορι£¬μΧ???κΉμ»πγΰχξάμι?ϋ»ίΣΤυΣβξά?ίΪ£¬ε΄ΩιθβΥτνΒιΔ£¬??Τ΄?ΩιΫφυΟ?ω»ΛΫ΅£σ®??Ν§??ιΝήέ???ϋδΝ§??ίζΦυήέ?

έοεύήΕιΔ `mutexA =threading.Lock() mutexB =threading.Lock()` υσ?ήέ?

pythonπ«ΝκΦυΚ¦ρμμύ?RLock΅£??RLock?έ»??σ·μι?Lockϋϊμι?counter?Υα£¬counter??Φυacquireξάσ­?£¬?μ»ήΕΤπ?κΉΚ¦μ¤ω¬ύσ­require΅£ςΑΣπμι??οοα¶κσξάacquireΤ΄ω¬release£¬Πμφβξά?οοξ¦φ?Τπ?κΉ



# 4.ίζΰχΠο

## ςχΣΫΠο?ίζΰχΠοξά??

δ§?γΐςχΣΫΠο£Ί

μςωΌ??Φυ`iter()`ϋϊ`next()`Ϋ°Ϋφξά?ίΪΤ΄Κ¦μ¤??ςχΣΫΠο΅£`iter()`Ϋ°ΫφΪχόήςχΣΫΠοάβγσ£¬μ»`next()`Ϋ°ΫφΪχόήίνΦριξάω»μι?καΘ£¬??κσΜΪύκαΘ?£¬?ψΨυσ`StopIteration`?ίΘ.

??ςχΣΫΠο£¬χΧίΘβΝι©ο?μι?ςχΣΫΠο?£¬???`__iter__()`ϋϊ`__next__()`Ψ?Ϋ°Ϋφ΅£

δ§?γΐίζΰχΠο£Ί

ίζΰχΠογΐμι?χεβ¨ξάςχΣΫΠο£¬?γΐλ¦μι?ψΠωί`yield`??ν®ξάωή??Λοξά΅£?ωή??ϊΌΣπ`yield`ψϊ?γ?£¬?Ϊχόήμι????οΞωή?ξά?ϊΌ£¬ω»σ­?ιΔ`next()`?£¬ωή??ίΎσ­?οΞξάκΘφΗ???ϊΌ£¬ςΑΣπξΆσ­ιηΣπ`yield`ϋδωή??αΦ΅£

??ίζΰχΠο£¬ο?μι?ψΠωί`yield`ξάωή?£¬??ιΔ??ωή???ΛοίζΰχΠο?ίΪ΅£

3. ΞΑιΔ?ΜΨ£Ί
   - **ςχΣΫΠο**£ΊΞΑιΔιΝμ«?πνξ¤ιΝ?πνριξά?ΛίσΆωκ£¬εύΦψϊ΅Άκ?Τυ΅£
   - **ίζΰχΠο**£Ίχε?ΞΑωκιΝΣή?ΛίσΆϋδΩιωΪ?ΛίκΉ£¬μΧ??άτβΝι©μισ­ΰυ?α¶κσ?ΛίΚ¥?Σπ?πνρι£¬μ»γΐδΞβΝίζΰχ?Λί΅£
4. **φηΰυΟ΄?Ϋ°Ψό**£Ί
   - **ςχΣΫΠο**£ΊάτγΐφηΰυΟ΄?£¬ξ¤?γ·ςχΣΫξρ£¬α¶κσκαΘφ¦ω±?πνξ¤ιΝ?πνρι΅£
   - **ίζΰχΠο**£ΊγΐφηΰυΟ΄?£¬καΘγΐδΞβΝ?ί©ϋϊίζΰχξά£¬άτβΝι©?Κ¥?α¶κσ?Λί΅£

?ξά??£¬ίζΰχΠογΐςχΣΫΠοξάμι?ν­σΆ£¬??ξάρ«ι©??ξ¤ιΝίζΰχΠοπ«ΝκΦυζΕ??ί©ξάφΥτ£¬?ξ¤?ΧβΣήΥα?Λί?Κ¦μ¤?ΰύ?πν΅£

# 5.??Πο

??Πο£ΊγΐΚ¦?ιΔξά?ίΪ£¬Πμ??γΐ?θβμι?ωή?(ω¬??ξάωή?)΅£??ΠοΚ¦φ??Χβω¬??ξάωή?£¬ζΤύ¨??Ϊχόή£¬ϋδνΊ?Πμτπ?ΰχ?θβμι?ωή?ϋδΚ¦?ιΔ?ίΪ΅£

1. nonlocal????Ω¥£Ί?Κξωή?ρι?ιΝθβέ»άτΚ¦??ϊώέοεύ?ν®£¬ν®έ¬Νϊ£¬κ??£¬ρώφ?φΆ£¬άτφασΛΗ£¬?Φυϊ°?????£¬μΪμύnonlocal,  **??Υα???ν»λ¦?Υα**΅£
2. functools.wraps£¬χκω¬??ωή?ξάίΣ??ΰυ?π¤Σπ??Ποριω¬τπ?ξάωή?ρι
3. functools.lru_cache,???Φυ?ΨΞΝνφ΅£χκΩΔ?ξάωή?ξά?ΝύάΑπνΡΓ?£¬ω­Ψσ?μύίΣΤξά???ρμ??ί©.



# 6Ψ?Ϋ°Ϋφ

γΐμι?χεβ¨ξάΫ°Ϋφ£¬??Ξύκσ?ω»??ξρ?ϋϊύ¨?£¬εύ`__init__`΅Ά`__str__`Τυ΅£?ήΑΫ°Ϋφ??ίΪπ«ΝκΦυ?φΗξάϊΌ?£¬λΓ?????φΗξάπΓνΒέ¬ϋϊωή?ρ®υσ??΅£ΦΗεύ£¬?ήΕιΔ`print`ωή?φθμΤμι??ίΪ?£¬Python??ιΔ??ίΪξά`__str__`Ϋ°Ϋφ??φΆιΔιΝ?γΖξάν®έ¬Νϊ΅£

1. `__init__(self, [...])`£Ί
   - ?πγΠοΫ°Ϋφ£¬ξ¤?Λο?ίΪ?ν»??ιΔ£¬ιΔιΝτψγ·ϋω?ίΪ΅£
   - ΦΗεύ£Ί`class MyClass: def __init__(self, value): self.value = value`
2. `__str__(self)`£Ί
   - ?ήΕιΔ`print`ωή?ϋδνΊ`str()`ωή???ιΔ£¬ιΔιΝΪχόή?ίΪξάν®έ¬ΝϊψϊγΖ΅£
   - ΦΗεύ£Ί`class MyClass: def __str__(self): return 'MyClass(value=' + str(self.value) + ')'`
3. `__repr__(self)`£Ί
   - ?ήΕιΔ`repr()`ωή???ιΔ£¬ϋδνΊϊ°?ΠοβΝι©?ίΪξάΞ―Ϋ°ν®έ¬ΝϊψϊγΖ??ιΔ΅£
   - ΦΗεύ£Ί`class MyClass: def __repr__(self): return f"MyClass(value={self.value})"`
4. `__len__(self)`£Ί
   - ?ήΕιΔ`len()`ωή???ιΔ£¬ιΔιΝΪχόή?ίΪρικαΘξά?Υα£¨??Κ¦ςχΣΫ?ίΪκσόω£©΅£
   - ΦΗεύ£Ί`class MyList: def __len__(self): return len(self.items)`
5. `__getitem__(self, key)`£Ί
   - ?ήΕιΔίγμΪπΓνΒέ¬£¨εύ`obj[key]`£©??ιΔ£¬ιΔιΝ?φΆ?ίΪξάκαΘ΅£
   ΦΗεύ£Ί`class MyList: def __getitem__(self, index): return self.items[index]`

6. `__setitem__(self, key, value)`£Ί
   - ?ήΕιΔίγμΪ??πΓνΒ£¨εύ`obj[key] = value`£©??ιΔ£¬ιΔιΝ?φΗ?ίΪξάκαΘ΅£
   - ΦΗεύ£Ί`class MyList: def __setitem__(self, index, value): self.items[index] = value`

7. `__del__(self)`£Ί
   - ϊ°?ΠοΫ°Ϋφ£¬ξ¤?ίΪω¬?ύΓ£¨ΦΗεύ£¬?οοίν?αΦ?£©ξρ?ιΔ΅£
   - ΦΗεύ£Ί`class MyClass: def __del__(self): print("MyClass is being destroyed")`

8. `__iter__(self)`£Ί
   - ?ήΕιΔςχΣΫπΓνΒ£¨εύ`for item in obj`£©??ιΔ£¬Ϊχόήμι?ςχΣΫΠο?ίΪ΅£
   - ΦΗεύ£Ί`class MyList: def __iter__(self): return iter(self.items)`

9. `__next__(self)`£Ί
   - ξ¤ςχΣΫΠορι£¬?ήΕιΔ`next()`ωή???ιΔ£¬ΪχόήίνΦριξάω»μι?καΘ΅£
   - ΦΗεύ£Ί`class MyIterator: def __next__(self): return next(self.iterator)`

10. `__call__(self, [...])`£Ί
    - ??ίΪω¬?νΒωή??ιΔ?£¨εύ`obj()`£©?ιΔ£¬λΓ??ίΪίΐωή?μι?ω¬?ιΔ΅£
    - ΦΗεύ£Ί`class MyFunction: def __call__(self, value): return value * value`

# 7.μνς¤

μνς¤ΩΌ?γΐPython?ρΧ?ξάμιέ»έΒ£¬φ¦γΐloggingΩΌ?£¬?π«ΝκΦυμι??όΐξάΟυπ¤???οοίν?ϊΌ?οοριξάγα

## μνς¤??:

- `DEBUG`£Ί??ξάγαγΣ£¬χΧίΘ?ξ¤???ήΕιΔ΅£
- `INFO`£ΊμιΪυγαγΣ£¬ψϊγΖοοίν?ϊΌξά??΅£
- `WARNING`£ΊΜνΝ±γαγΣ£¬ψϊγΖ?ξ¤ξά??£¬Σ£άτη―?οοίν???ϊΌ΅£
- `ERROR`£Ί??γαγΣ£¬ψϊγΖοοίνιηΣπ??£¬Σ£?Ϊ±?φΘοοίνέΪ?΅£
- `CRITICAL`£Ί?ρμ??£¬οοίνΚ¦φΩιΫφ???ϊΌ΅£

2. **μνς¤??Πο£¨Logger£©**£Ί
   μνς¤??ΠογΐιΔ??ΛοϋϊΞ·Χβμνς¤αΌγΣξά?ίΪ΅£Ψί???ΠοΚ¦μ¤κσμι?Ω£ν®ϋϊμι?μνς¤??£¬?Κ¦μ¤ΫΥφΗύ??ΧβΠο£¨Handler£©??ομνς¤αΌγΣξά?υσΩΝξάςΆ΅£

2. **?ΧβΠο£¨Handler£©**£Ί
   ?ΧβΠοιΔιΝ?μνς¤αΌγΣ?ακΣπάτΤξάΩΝξάςΆ£¬ΦΗεύΝσπ¤χ»΅ΆΩώΛμϋδΠμφβμνς¤Ξ·ΧβΝ§?΅£ίΘ?ξά?ΧβΠοψΠΞΐ£Ί
   - `StreamHandler`£Ί?μνς¤αΌγΣ?υσΣπΝσπ¤χ»ϋδμςωΌ?ήΔξά?υσΧµ΅£
   - `FileHandler`£Ί?μνς¤αΌγΣ?μύΣπς¦οξάΩώΛμ΅£

4. **Μ«γϋωΠο£¨Formatter£©**£Ί
   Μ«γϋωΠοιΔιΝο?μνς¤αΌγΣξάυΜ??υσΜ«γ΅£?ψΠΞΐμνς¤??ξά??΅Άμνς¤??΅Ά??ΠοΩ£ν®΅Άμνς¤αΌγΣΤυ?ι»΅£

4. **μνς¤ΫΥφΗ**£Ί
   Κ¦μ¤χΧ???Ϋ°γ?ΫΥφΗμνς¤ΩΌ?£¬ψΠΞΐ£Ί
   - ήΕιΔ`logging.basicConfig()`ωή??ϊΌΠράβΫΥφΗ£¬ΞΑιΔιΝ???ΜΨ΅£

   - ήΕιΔΫΥφΗΩώΛμ£¨εύJSON΅ΆYAMLϋδINIΜ«γ£©?ϊΌΫΥφΗ£¬ΞΑιΔιΝ??ϋδΣήϊώξά?ιΔοοίν΅£

     ```python
     import?logging

     #??Λομνς¤??Πο
     logger?=?logging.getLogger('my_logger')
     logger.setLevel(logging.DEBUG)

     #??Λο?ΧβΠο£¬???τΥΚ¥Σπμνς¤??Πο
     handler?=?logging.StreamHandler()
     handler.setLevel(logging.DEBUG)

     #??ΛοΜ«γϋωΠο£¬???τΥΚ¥Σπ?ΧβΠο
     formatter?=?logging.Formatter('%(asctime)s?-?%(name)s?-?%(levelname)s?-?%(message)s')
     handler.setFormatter(formatter)

     #???ΧβΠοτΥΚ¥Σπμνς¤??Πο
     logger.addHandler(handler)

     #?ήΕιΔμνς¤??γαγΣ
     logger.debug('This?is?a?debug?message')
     logger.info('This?is?an?info?message')
     logger.warning('This?is?a?warning?message')
     logger.error('This?is?an?error?message')
     logger.critical('This?is?a?critical?message')
     ```


# 8.?οο

1.λ¦ιΝγΐ??οο£¬άτφξΆο·?
2.άτξΆκσμςωΌ?ξά?·

?άΖ?οορ«ι©χΧ?`asyncio`????£¬ήΕιΔ`async`/`await`?Ϋφ΅£

   - `async`£ΊιΔιΝο?μι??άΖωή?£¬?ωή?Κ¦μ¤ψΠωί`await`ψϊ?γ΅£
   - `await`£ΊιΔιΝ?οΞ?άΖωή?ξά?ϊΌ£¬ςΑΣπω¬?οΞξά?οο£¨coroutine£©?ϊΌθΗΰχ΅£

  `ήΐΛμβΰ?`γΐ`asyncio`ξάϊ·γύ?Λμ£¬???Σψϋϊ?ϊΌ?άΖήΐΛμ΅£ήΐΛμβΰ??άτ?ςΆ??γΐάϊκσ?οοβΝι©?ϊΌ£¬?Ξ·Χβ??ξά?ϊΌ΅£

 ?οογΐ?άΖ?οοριξάΠράβ?κ£¬?γΐμι?ήΕιΔ`async`ο?ξάωή?΅£?οοΚ¦μ¤ξ¤?ϊΌΣπ`await`ψϊ?γ??οΞ£¬?ξ¤υύ¨όα??ϊΌ΅£



 **?άΖωή?ϋϊΤάΖωή?ξά??**£Ί

   - ?άΖωή?Κ¦μ¤?ϊΌI/OπΓνΒμ»άτπζίέοΪ?οοίν΅£

**ήΕιΔ?ΜΨ**£Ί
?άΖ?οοΞΑιΔιΝI/OΪΛσΆϊώξάμς?£¬εύ???Ο΄΅ΆΩώΛμ??Τυ£¬μΧ??Κ¦μ¤ξ¤ΤυΣβI/OθΗΰχ??ϊΌΠμφβμς?΅£

ρΌλς£Ί

ξ¤node.jsρι£¬?α¶κσI/Oπ«ΝκΦυ?άΖ?οο΅£Σ£ξ¤Pythonρι£¬ρώ???I/Oπ«ΝκΦυ?άΖ?οο£¬μιάτα³γύ£¬Ρα?ΩώΛμI/OΚ¦μ¤Ω¥?Λ½ξΈ?άΖ?ιΔοοίνξάΰυφβ©ψΑ£¬μΧ?ξ¤ρ«?οορι??πν?Πο?πζίέήΐΛμβΰ?΅£





