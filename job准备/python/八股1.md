# 迭代器与生成器的区别



   - **迭代器（Iterator）**：任何实现了`iter()`和`next()`方法的对象都可以称为迭代器。`iter()`方法返回迭代器本身，而`next()`方法返回序列中的下一个元素，当没有更多元素时，会抛出`StopIteration`异常。通常需要定义一个迭代器类，并实现`__iter__()`和`__next__()`魔术方法。
   - **生成器（Generator）**：生成器是一种特殊的迭代器，它是由一个包含`yield`关键字的函数创建的。当函数执行到`yield`表达式时，会返回一个值并暂停函数的执行，下次调用`next()`时，函数从上次暂停的位置继续执行，直到再次遇到`yield`或函数结束。定义一个包含`yield`的函数，并调用这个函数来创建生成器对象。

## 使用场景：

   - **迭代器**：适用于已经存在于内存中的数据集合，如列表、元组等。
   - **生成器**：特别适合于大数据集或无限数据源，因为它不需要一次性将所有数据加载到内存中，而是按需生成数据。

## 惰性求值：

   - **迭代器**：不是惰性求值，所有元素必须在开始迭代前就存在于内存中。
   - **生成器**：是惰性求值，元素是按需计算和生成的，不需要预加载所有数据。

总的来说，生成器是迭代器的一个子集，它们的主要区别在于生成器提供了延迟计算的能力，这在处理大量数据时可以节省内存。迭代器则更通用，可以用于任何实现了迭代器协议的对象。